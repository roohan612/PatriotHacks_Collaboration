import pygame

if __name__ == "__main__":

    pygame.init()

    TILE_SPRITE_SHEET_IMAGE : pygame.Surface = pygame.image.load("tile_sprite_sheet.png")

    TILE_KEYS : dict[str, pygame.Rect] = {
        "1":pygame.Rect(0, 0, 32, 32),
        "2":pygame.Rect(32, 0, 32, 32),
        "3":pygame.Rect(64, 0, 32, 32)
    }

    TILE_PIXEL_WIDTH : int = 32
    TILE_PIXEL_HEIGHT : int = 32

    ARENA_TILE_WIDTH : int = 32
    ARENA_TILE_HEIGHT : int = 18

    ARENA_PIXEL_WIDTH : int = ARENA_TILE_WIDTH * TILE_PIXEL_WIDTH
    ARENA_PIXEL_HEIGHT : int = ARENA_TILE_HEIGHT * TILE_PIXEL_HEIGHT
    
    arena : pygame.Surface = pygame.Surface((ARENA_PIXEL_WIDTH, ARENA_PIXEL_HEIGHT))
    arena_map : list[str] = open("tile_map.txt").read().split("\n")

    for y in range(ARENA_TILE_HEIGHT):
        px_y : int = y * TILE_PIXEL_HEIGHT
        for x in range(ARENA_TILE_WIDTH):
            px_x : int = x * TILE_PIXEL_WIDTH
            if arena_map[y][x] in TILE_KEYS:
                arena.blit(TILE_SPRITE_SHEET_IMAGE, (px_x, px_y), TILE_KEYS[arena_map[y][x]])

    pygame.image.save(arena, "map.png")
        